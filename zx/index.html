<!DOCTYPE html><html lang="en-us">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>ZX Spectrum Emulator Online</title>
<meta name="description"><meta name="generator" content="Olmer">
<meta name="author" content="Oleg Shlyazhko"><meta name="keywords" content="olmer, oleg shlyahko, developer, backend, python, messengers, vr, machine learning, bots, ai">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0">
<link rel="stylesheet" type="text/css" href="/styles/screen.css">
<link rel="stylesheet" type="text/css" href="/styles/head.css">
<link rel="stylesheet" type="text/css" href="https://file.myfontastic.com/n6vo44Re5QaWo8oCKShBs7/icons.css">
<script defer="" type="text/javascript" src="main.js"></script>
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="192x192" href="/images/favicon-192x192.png">

</head>
<body itemscope itemtype="https://schema.org/WebPage">

<header itemscope itemtype="https://schema.org/WPHeader"><a id="logo" href="/"><img src="/images/char_logo.png" alt="Olmer" title="Olmer"></a><h1><a href="/" alt="Olmer" title="Olmer" itemprop="headline">Olmer</a></h1><p itemprop="description">Oleg Shlyazhko<br>Bots, ML, VR, WebGL</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/" alt="Home" title="Home" itemprop="url">Home</a></li><li itemprop="name"><a href="/articles" alt="Articles" title="Articles" itemprop="url">Articles</a></li><li itemprop="name"><a href="/about" alt="About me" title="About me" itemprop="url">About me</a></li><li itemprop="name"><a href="/blackhole" alt="Black Hole" title="Black Hole" itemprop="url">Black Hole</a></li></ul><ul class="social"><li><a target="_blank" href="https://www.facebook.com/oleg.shlyazhko"><i class="socicon-facebook"></i>/oleg.shlyazhko</a></li><li><a target="_blank" href="https://www.linkedin.com/in/olegshlyazhko"><i class="socicon-linkedin"></i> /olegshlyazhko</a></li><li><a target="_blank" href="https://github.com/ollmer"><i class="socicon-github"></i></a> 
<a target="_blank" href="https://twitter.com/ollmer"><i class="socicon-twitter"></i></a> 
<a target="_blank" href="https://telegram.me/ollmer"><i class="socicon-telegram"></i></a> 
<a target="_blank" href="mailto:oleg@olmer.me"><i class="socicon-mail"></i></a> </li></ul></nav><div class="space"></div></header>

<main itemscope itemtype="https://schema.org/Blog"><article class="full">
test main 2
<div class="emulator">
	<canvas class="emulator_canvas" width="960" height="720" tabindex="0"></canvas>
	<div class="emulator_controls"><button class="button emulator_fullscreen">Развернуть на полный экран</button></div>
</div>
<script>
window.emulatorComponent = new function() {
    const self = this;
    let url;
    let canvasElement;
    let componentElement;
    let fullscreenButton;
    const init = function() {
        if (componentElement = document.querySelector('.emulator')) {
            if (canvasElement = componentElement.querySelector('.emulator_canvas')) {
                canvasElement.addEventListener("webglcontextlost", function(e) {
                    alert('WebGL context lost. You will need to reload the page.');
                    e.preventDefault();
                }, false);
            }
            if (fullscreenButton = componentElement.querySelector('.emulator_fullscreen')) {
                fullscreenButton.addEventListener('click', fullscreenClick);
            }
        }
    };
    const spawnModule = function() {
        window.Module = {
            onReady: emulatorReadyHandler,
            canvas: (function() {
                return canvasElement;
            }
            )(),
            locateFile: function(file) {
                return file;
            }
        };
    };
    const emulatorReadyHandler = function() {
        Module.setCanvasSize(960, 720);
        Module.ccall('OpenFile', null, ['string'], [url]);
        Module.ccall('OnCommand', null, ['string'], ['joystick=cursor']);
    };
    const fullscreenClick = function() {
        Module.requestFullscreen(false, true);
    };
    self.start = function(newUrl) {
        if (canvasElement) {
            url = newUrl;
            componentElement.style.display = 'block';
            if (typeof Module == 'undefined') {
                spawnModule();
                var script = document.createElement('script');
                script.src = "unreal_speccy_portable.js";
                document.body.appendChild(script);
            } else {
                emulatorReadyHandler();
            }
        }
    }
    ;
};
window.emulatorComponent.init();
</script>
<button class="button" onclick="window.emulatorComponent.start('red_raid__the_sinking.zip')">Start</button>
</main>
</body></html>
